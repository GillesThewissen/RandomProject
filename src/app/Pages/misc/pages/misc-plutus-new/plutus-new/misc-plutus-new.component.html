<div class="contentPageOverride">
    <button class="currencyButton" (click)="changeCurrency()">Switch £/€</button>
    <p class="title">Plutus New Subscriptions & Reward Levels</p>
    <p class="infoTextTop">
        This is a community-created calculator based on information released by Plutus regarding their upcoming changes to the subscription and stacking tiers.
    </p>

    <div class="inputWrapper">
        <div class="inputLabelWrapper">
            <label for="subscriptionTier">Subscription Plan</label>
            <select class="select" name="subscriptionTier" id="subscriptionTier" (change)="subscriptionTierChange($event)">
                <option *ngFor="let r of subscriptionTiers" value="r">&nbsp;{{ r.name.padEnd(17, '&nbsp;') }} {{ currencySymbol }}{{ r.cost | number : '1.2-2'}}/m</option>
            </select>
        </div>

        <div class="inputLabelWrapper">
            <label for="stackingTier">Reward Level</label>
            <select class="select" name="stackingTier" id="stackingTier" (change)="stackingTierChange($event)">
                <ng-container *ngFor="let r of stackingTiers">
                    <option *ngIf="r.pluRequired != 0;else other_content" value="r">&nbsp;{{ r.name.padEnd(17, '&nbsp;') }} {{ r.pluRequired }} PLU</option>
                    <ng-template #other_content>
                        <option value="r">&nbsp;{{ r.name }}</option>
                    </ng-template>
                </ng-container>
            </select>
        </div>

        <div class="inputLabelWrapper">
            <label for="eligibleSpendTier">Redeem Feature</label>
            <select class="select" name="eligibleSpendTier" id="eligibleSpendTier" (change)="eligibleSpendTierChange($event)">
                <ng-container *ngFor="let r of eligibleSpendTiers">
                    <option *ngIf="r.cost != 0;else other_content" value="r">&nbsp;{{ currencySymbol }}{{ r.eligibleSpend.toString().padEnd(16, '&nbsp;') }} {{ r.cost }} PLU/y</option>
                    <!-- {{ currencySymbol }}{{ redeemCost }}/y -->
                    <ng-template #other_content>
                        <option value="r">&nbsp;No higher cap</option>
                    </ng-template>
                </ng-container>
            </select>
        </div>
    </div>

    <div class="overview">
        <div class="overviewItem">
            <h4>Cashback</h4>
            <h3>{{ cashbackRate }}%</h3>
        </div>
        <div class="overviewItem">
            <h4>Perks</h4>
            <h3>{{ perkCount }}</h3>
        </div>
        <div class="overviewItem">
            <h4>Eligible Spend</h4>
            <h3>{{ currencySymbol }}{{ eligibleSpend | number : '1.0-0' }}/m</h3>
        </div>
    </div>

    <div class="outputWrapper">
        <div class="header">
            <p>Monthly Cashback</p>
            <hr>
            <p>Monthly Perks</p>
            <hr>
            <p>Total Monthly Value</p>
            <hr>
            <p>Yearly Value</p>
            <hr>
            <p>Yearly Minus Sub Cost</p>
        </div>
        <div class="values">
            <p>{{ currencySymbol }}{{ monthlyCashbackValue | number : '1.2-2'}}</p>
            <hr>
            <p>{{ currencySymbol }}{{ monthlyPerkValue | number : '1.2-2' }}</p>
            <hr>
            <p>{{ currencySymbol }}{{ totalMonthlyValue | number : '1.2-2' }}</p>
            <hr>
            <p>{{ currencySymbol }}{{ totalYearlyValue | number : '1.2-2' }}</p>
            <hr>
            <p>{{ currencySymbol }}{{ actualTotalYearlyValue | number : '1.2-2' }}</p>
        </div>
    </div>

    <!-- <div class="test">
        <h4>Cashback percentage</h4>
        <h2>3%</h2>
        <h5>Eligible Spend $3,000.00</h5>
        <h5>Perks 5</h5>
    </div> -->
    <!-- <div class="inputWrapper">
        <div class="inputLabelWrapper">
            <label for="subscriptionTier">Subscription Plan</label>
            <select class="select" name="subscriptionTier" id="subscriptionTier" (change)="subscriptionTierChange($event)">
                <option *ngFor="let r of subscriptionTiers" value="r">{{ r.name.padEnd(12, '&nbsp;') }} {{ currencySymbol }}{{ r.cost | number : '1.2-2'}}/m</option>
            </select>
        </div>

        <div class="inputLabelWrapper">
            <label for="stackingTier">Reward Level</label>
            <select class="select" name="stackingTier" id="stackingTier" (change)="stackingTierChange($event)">
                <ng-container *ngFor="let r of stackingTiers">
                    <option *ngIf="r.pluRequired != 0;else other_content" value="r">{{ r.name.padEnd(12, '&nbsp;') }} {{ r.pluRequired }} PLU</option>
                    <ng-template #other_content>
                        <option value="r">{{ r.name }}</option>
                    </ng-template>
                </ng-container>
            </select>
        </div>

        <div class="inputLabelWrapper">
            <label for="eligibleSpendTier">Redeem Feature</label>
            <select class="select" name="eligibleSpendTier" id="eligibleSpendTier" (change)="eligibleSpendTierChange($event)">
                <ng-container *ngFor="let r of eligibleSpendTiers">
                    <option *ngIf="r.cost != 0;else other_content" value="r">{{ currencySymbol }}{{ r.eligibleSpend.toString().padEnd(10, '&nbsp;') }} {{ r.cost }} PLU/y</option>
                    <ng-template #other_content>
                        <option value="r">No higher cap</option>
                    </ng-template>
                </ng-container>
            </select>
        </div>
    </div>
    <div class="outputWrapper">
        <p class="subTitle">Purchase Cashback</p>
        <div class="symbolInput">
            <div class="outputLabelWrapper">
                <label for="cashbackRate">Cashback Rate</label>
                <input class="textInput" name="cashbackRate" id="cashbackRate" type="text" value="{{ cashbackRate }}%" disabled>
            </div>
        </div>
        <div class="symbolInput">
            <div class="outputLabelWrapper">
                <label for="eligibleSpend">Monthly Eligible Spend</label>
                <input class="textInput" name="eligibleSpend" id="eligibleSpend" type="text" value="{{ currencySymbol }}{{ eligibleSpend | number : '1.2-2' }}" disabled>
            </div>
        </div>
        <div class="symbolInput">
            <div class="outputLabelWrapper">
                <label for="monthlyCashbackValue">Monthly Cashback Value</label>
                <input class="textInput" name="monthlyCashbackValue" id="monthlyCashbackValue" type="text" value="{{ currencySymbol }}{{ monthlyCashbackValue | number : '1.2-2'}}" disabled>
            </div>
        </div>
        <p class="subTitle">Perks Cashback</p>
        <div class="symbolInput">
            <div class="outputLabelWrapper">
                <label for="amountOfPerks">Amount of Perks</label>
                <input class="textInput" name="amountOfPerks" id="amountOfPerks" type="text" value="{{ perkCount }}" disabled>
            </div>
        </div>
        <div class="symbolInput">
            <div class="outputLabelWrapper">
                <label for="monthlyPerkValue">Monthly Perk Value</label>
                <input class="textInput" name="monthlyPerkValue" id="monthlyPerkValue" type="text" value="{{ currencySymbol }}{{ monthlyPerkValue | number : '1.2-2' }}" disabled>
            </div>
        </div>
        <p class="subTitle">Combined Value</p>
        <div class="symbolInput">
            <div class="outputLabelWrapper">
                <label for="totalMonthlyValue">Monthly Value</label>
                <input class="textInput" name="totalMonthlyValue" id="totalMonthlyValue" type="text" value="{{ currencySymbol }}{{ totalMonthlyValue | number : '1.2-2' }}" disabled>
            </div>
        </div>
        <div class="symbolInput">
            <div class="outputLabelWrapper">
                <label for="totalYearlyValue">Yearly Value</label>
                <input class="textInput" name="totalYearlyValue" id="totalYearlyValue" type="text" value="{{ currencySymbol }}{{ totalYearlyValue | number : '1.2-2' }}" disabled>
            </div>
        </div>
        <div class="symbolInput">
            <div class="outputLabelWrapper">
                <label for="actualTotalYearlyValue">Yearly Value Minus Sub Cost</label>
                <input class="textInput" name="actualTotalYearlyValue" id="actualTotalYearlyValue" type="text" value="{{ currencySymbol }}{{ actualTotalYearlyValue | number : '1.2-2' }}" disabled>
            </div>
        </div>
    </div> -->

    <!-- <p class="referralStuff">
        My Plutus referral link:
        <br>
        <a href="https://dex.plutus.it/auth/referee/signup?refId=LiBLlj" target="_blank">click here</a>
        <br>
        <br>
        An ETH address to send PLU to if you want to (or ETH):
        <br>
        0x0aD67F6CE23B3031aD7B516acB7DA791F523ed3B
    </p> -->
</div>